var VueLaravelCrud=function(e,t){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=r(e),a=r(t);function i(e,t,r,n,a,i,o){try{var l=e[i](o),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s={name:"VueLaravelCrud",components:{draggable:n.default},data:function(){return{filterSidebarOpen:!1,forceRecomputeCounter:0,filtersVisible:!1,loading:!1,items:[],selectedItems:[],displaySearch:!1,pagination:{current_page:1,last_page:1,next_page_url:"",prev_page_url:"",per_page:20,total:0},itemDefault:null,filters:[],internalFilters:[],item:{id:null},displayModes:{MODE_TABLE:1,MODE_CARDS:2}}},watch:{search:function(e){e&&""!=e?(this.filters=[],this.filters.push(["search","LIKE",e]),this.fetchItems()):(this.filters=[],this.fetchItems())}},props:{modelName:String,model:Object,title:String,columns:{type:Array,default:[{label:"Id",prop:"id",type:"number"}]},filter:{type:Array,default:[]},enableFilters:{type:Boolean,default:!1},sorteable:{type:Boolean,default:!1},createMultipart:{type:Boolean,default:!1},apiUrl:{type:String,default:"/api"},search:{type:String,default:""},refreshAfterSave:{type:Boolean,default:!0},showPaginator:{type:Boolean,default:!0},showCreateBtn:{type:Boolean,default:!0},showSearch:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},showTitle:{type:Boolean,default:!0},limit:{type:Number,default:20},displayMode:{type:Number,default:1},displayModeToggler:{type:Boolean,default:!1},colXs:{default:12,type:Number},colSm:{default:12,type:Number},colMd:{default:6,type:Number},colLg:{default:4,type:Number},colXl:{default:3,type:Number},enableDraggable:{type:Boolean,default:!1},selectHover:{type:Boolean,default:!1},selectClick:{type:Boolean,default:!1},messageRemoveConfirm:{type:String,default:"Â¿Esta seguro de borrar este elemento?"},messageRemove:{type:String,default:"BORRAR"},messageNew:{type:String,default:"Nuevo"},messageEmptyResults:{type:String,default:"No se han encontrado resultados"},messageSave:{type:String,default:"Guardar"},searchPlaceholder:{type:String,default:"Buscar..."}},mounted:function(){this.item=this.model,this.itemDefault=JSON.parse(JSON.stringify(this.item)),this.internalFilters=[],this.setupFilters(),this.fetchItems()},computed:{itemValue:function(){return function(e,t){return e.prop&&e.prop.split(".").length>1&&e.prop.split(".")[1]?t[e.prop.split(".")[0]]&&t[e.prop.split(".")[0]][e.prop.split(".")[1]]?t[e.prop.split(".")[0]][e.prop.split(".")[1]]:"":t[e.prop]}},filteredItems:function(){return this.items},finalFilters:function(){return this.filters.concat(this.filter).concat(this.internalFilter)},internalFilter:function(){var e=[];return this.forceRecomputeCounter,this.internalFilters.forEach((function(t){t.value&&e.push([t.column,t.op,t.value])})),e},internalFilterByProp:function(){var e=this;return function(t){return e.internalFilters.find((function(e){return e.column==t}))}}},methods:{setupFilters:function(){var e=this;this.columns.forEach((function(t){e.isColumnHasFilter(t)&&("date"==t.type?(e.internalFilters.push({column:t.prop+"_from",op:t.filterOp?t.filterOp:"=",value:null}),e.internalFilters.push({column:t.prop+"_to",op:t.filterOp?t.filterOp:"=",value:null})):e.internalFilters.push({column:t.prop,op:t.filterOp?t.filterOp:"=",value:null}))}))},toggleFilters:function(){this.filtersVisible=!this.filtersVisible,this.displayMode==this.displayModes.MODE_CARDS?this.filterSidebarOpen=this.filtersVisible:this.filterSidebarOpen=!1},resetFilters:function(){var e=this;this.internalFilters=[],this.setupFilters(),this.forceRecomputeCounter++,setTimeout((function(){e.refresh()}),1)},toggleDisplayMode:function(){this.displayMode==this.displayModes.MODE_TABLE?this.displayMode=this.displayModes.MODE_CARDS:this.displayMode==this.displayModes.MODE_CARDS&&(this.displayMode=this.displayModes.MODE_TABLE)},onRowHover:function(e,t){this.selectHover&&(this.item=this.items[t],this.selectItem(),this.onSelect())},onRowClick:function(e,t){this.selectClick&&(this.item=this.items[t],this.selectItem(),this.onSelect())},onCheckSelect:function(e,t){console.debug("ON CHECK SELECT",e,t),this.item=t,this.selectItem(),this.onSelect()},toggleAll:function(){this.selectedItems.length>0?this.selectedItems=[]:this.selectedItems=this.items},selectItem:function(){var e=this;this.selectedItems.find((function(t){return t.id==e.item.id}))?(this.item.selected=!1,this.selectedItems=this.selectedItems.filter((function(t){return t.id!=e.item.id}))):(this.item.selected=!0,this.selectedItems.push(this.item))},getSelectedItems:function(){return this.selectedItems},onSelect:function(){this.$emit("select",this.item)},showItem:function(e,t){this.item=this.items[t],this.onSelect(),this.$bvModal.show("modal-show-item-"+this.modelName)},createItem:function(){this.item=JSON.parse(JSON.stringify(this.itemDefault)),this.onSelect(),this.$bvModal.show("modal-form-item-"+this.modelName)},updateItem:function(e,t){this.item=this.items[t],this.onSelect(),this.$bvModal.show("modal-form-item-"+this.modelName)},refresh:function(){this.fetchItems()},isColumnHasFilter:function(e){return e&&!e.hideFilter&&"actions"!=e.type},setFilter:function(e,t){var r=this;this.filter.find((function(t){return t.column==e})).value=t,this.forceRecomputeCounter++,setTimeout((function(){r.refresh()}),1)},fetchItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this;t.loading=!0,a.default.get(this.apiUrl+"/"+this.modelName,{params:{page:e,limit:this.limit,filters:JSON.stringify(this.finalFilters)}}).then((function(e){t.makePagination(e.data),t.items=e.data.data,t.loading=!1})).catch((function(e){t.toastError(e),t.loading=!1}))},removeItem:function(e,t){var r=this;this.$bvModal.msgBoxConfirm(r.messageRemoveConfirm,{size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:r.messageRemove,cancelTitle:"NO",centered:!0}).then((function(n){n&&(r.loading=!0,a.default.delete(r.apiUrl+"/"+r.modelName+"/"+e).then((function(e){r.items.splice(t,1),r.toastSuccess("Elemento eliminado."),r.loading=!1})).catch((function(e){r.toastError(e),r.loading=!1})))})).catch((function(e){r.toastError(e),r.loading=!1}))},saveSort:function(){if(this.sorteable){var e=this;e.loading=!0;var t=[];this.items.forEach((function(e,r){t.push({id:e.id,order:r+1}),e.order=r+1})),a.default.post(this.apiUrl+"/"+e.modelName+"/sort",{order:t}).then((function(t){t.data,e.toastSuccess("Orden Actualizado"),e.refreshAfterSave&&e.refresh(),e.loading=!1})).catch((function(t){e.toastError(t),e.loading=!1}))}},getStateValue:function(e,t){if(!t)return e;var r=t.filter((function(t){return Array.isArray(e)?e.includes(t.id):t.id==e}));return(r=r.map((function(e){return e.text?e.text:e.label?e.label:""}))).join(", ")},saveItem:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=t).loading=!0,t.item.id?a.default.put(t.apiUrl+"/"+r.modelName+"/"+r.item.id,r.item).then((function(e){r.$bvModal.hide("modal-form-item-"+r.modelName);var t=e.data,n=r.items.findIndex((function(e){return e.id==r.item.id}));r.items[n]=t,r.item=t,r.loading=!1,r.refreshAfterSave&&r.refresh(),r.toastSuccess("Elemento Modificado")})).catch((function(e){r.toastError(e),r.loading=!1})):t.createMultipart?(n=new FormData,Object.keys(r.item).forEach((function(e){if(r.item[e][0]&&r.item[e][0].name){console.log(r.item[e]);for(var t=r.item[e],a=0;a<t.length;a++)n.append(e+"[]",r.item[e][a],r.item[e][a].name)}else n.append(e,r.item[e])})),a.default.post(t.apiUrl+"/"+r.modelName,n).then((function(e){if(r.loading=!1,r.$bvModal.hide("modal-form-item-"+r.modelName),e.data.success)e.data.message&&r.toastSuccess(e.data.message);else{var t=e.data;r.items.push(t),r.item=t,r.refreshAfterSave&&r.refresh(),r.toastSuccess("Elemento Creado")}})).catch((function(e){r.toastError(e),r.loading=!1}))):a.default.post(t.apiUrl+"/"+r.modelName,r.item).then((function(e){if(r.loading=!1,r.$bvModal.hide("modal-form-item-"+r.modelName),e.data.success)e.data.message&&r.toastSuccess(e.data.message);else{var t=e.data;r.items.push(t),r.item=t,r.refreshAfterSave&&r.refresh(),r.toastSuccess("Elemento Creado")}})).catch((function(e){r.toastError(e),r.loading=!1}));case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function l(e){i(o,n,a,l,s,"next",e)}function s(e){i(o,n,a,l,s,"throw",e)}l(void 0)}))})()},toastError:function(e){this.$bvToast.toast(e.message,{title:"Error",toaster:"b-toaster-bottom-right",variant:"danger",solid:!0,appendToast:!0})},toastSuccess:function(e){this.$bvToast.toast(e,{title:"Listo",toaster:"b-toaster-bottom-right",variant:"success",solid:!0,appendToast:!0})},onChangeFilter:function(e){var t=this;this.forceRecomputeCounter++,setTimeout((function(){t.refresh()}),1)},onPaginationChange:function(e){this.fetchItems(e)},makePagination:function(e){var t={current_page:e.current_page,last_page:e.last_page,next_page_url:e.next_page_url,prev_page_url:e.prev_page_url,total:e.total,per_page:e.per_page};this.pagination=t}}};function c(e,t,r,n,a,i,o,l,s,c){"boolean"!=typeof o&&(s=l,l=o,o=!1);const u="function"==typeof r?r.options:r;let d;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,a&&(u.functional=!0)),n&&(u._scopeId=n),i?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,s(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=d):t&&(d=o?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,l(e))}),d)if(u.functional){const e=u.render;u.render=function(t,r){return d.call(r),e(t,r)}}else{const e=u.beforeCreate;u.beforeCreate=e?[].concat(e,d):[d]}return r}const u="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function d(e){return(e,t)=>function(e,t){const r=u?t.media||"default":e,n=m[r]||(m[r]={ids:new Set,styles:[]});if(!n.ids.has(e)){n.ids.add(e);let r=t.source;if(t.map&&(r+="\n/*# sourceURL="+t.map.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),n.element||(n.element=document.createElement("style"),n.element.type="text/css",t.media&&n.element.setAttribute("media",t.media),void 0===p&&(p=document.head||document.getElementsByTagName("head")[0]),p.appendChild(n.element)),"styleSheet"in n.element)n.styles.push(r),n.element.styleSheet.cssText=n.styles.filter(Boolean).join("\n");else{const e=n.ids.size-1,t=document.createTextNode(r),a=n.element.childNodes;a[e]&&n.element.removeChild(a[e]),a.length?n.element.insertBefore(t,a[e]):n.element.appendChild(t)}}}(e,t)}let p;const m={};var f=c({render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"crud"},[e.showHeader?r("div",{staticClass:"crud-header"},[e.showTitle?r("h4",{staticClass:"crud-title"},[e._v(e._s(e.title))]):e._e(),e._v(" "),r("b-sidebar",{attrs:{title:"Filtrar",right:"",shadow:""},model:{value:e.filterSidebarOpen,callback:function(t){e.filterSidebarOpen=t},expression:"filterSidebarOpen"}},[e._t("sidebarFilters",[r("div",{staticClass:"px-3 py-2"},[e._l(e.columns,(function(t,n){return r("div",{key:n},[e.isColumnHasFilter(t)?r("div",[e.internalFilterByProp(t.prop)?e._t("sidebar-filter-"+t.prop,["boolean"==t.type?r("div",{staticClass:"form-group"},[r("label",[e._v(e._s(t.label))]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.internalFilterByProp(t.prop).value,expression:"internalFilterByProp(column.prop).value"}],staticClass:"form-control",on:{change:[function(r){var n=Array.prototype.filter.call(r.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.internalFilterByProp(t.prop),"value",r.target.multiple?n:n[0])},function(t){return e.onChangeFilter(t)}]}},[r("option",{attrs:{value:""}}),e._v(" "),r("option",{attrs:{value:"1"}},[e._v("SÃ­")]),e._v(" "),r("option",{attrs:{value:"0"}},[e._v("No")])])]):"date"==t.type?r("div",{staticClass:"form-group"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-6"},[r("b-form-datepicker",{attrs:{"today-button":"","reset-button":"","close-button":"",locale:"es"},model:{value:e.internalFilterByProp(t.prop+"_from").value,callback:function(r){e.$set(e.internalFilterByProp(t.prop+"_from"),"value",r)},expression:"\n                          internalFilterByProp(column.prop + '_from').value\n                        "}})],1),e._v(" "),r("div",{staticClass:"col-6"},[r("b-form-datepicker",{attrs:{"today-button":"","reset-button":"","close-button":"",locale:"es"},model:{value:e.internalFilterByProp(t.prop+"_to").value,callback:function(r){e.$set(e.internalFilterByProp(t.prop+"_to"),"value",r)},expression:"\n                          internalFilterByProp(column.prop + '_to').value\n                        "}})],1)])]):"state"==t.type?r("div",{staticClass:"form-group"},[r("label",[e._v(e._s(t.label))]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.internalFilterByProp(t.prop).value,expression:"internalFilterByProp(column.prop).value"}],staticClass:"form-control",on:{change:[function(r){var n=Array.prototype.filter.call(r.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.internalFilterByProp(t.prop),"value",r.target.multiple?n:n[0])},function(t){return e.onChangeFilter(t)}]}},[r("option",{attrs:{value:""}}),e._v(" "),e._l(t.options,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                      "+e._s(t.text?t.text:t.label?t.label:"")+"\n                    ")])}))],2)]):r("div",{staticClass:"form-group"},[r("label",[e._v(e._s(t.label))]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.internalFilterByProp(t.prop).value,expression:"internalFilterByProp(column.prop).value",modifiers:{lazy:!0}}],staticClass:"form-control",domProps:{value:e.internalFilterByProp(t.prop).value},on:{change:[function(r){e.$set(e.internalFilterByProp(t.prop),"value",r.target.value)},function(t){return e.onChangeFilter(t)}]}})])],{column:t,filter:e.filter,internalFilterByProp:e.internalFilterByProp}):e._e()],2):e._e()])})),e._v(" "),r("div",{staticClass:"mt-3 d-flex justify-content-center"},[r("button",{staticClass:"btn btn-light",on:{click:function(t){return e.resetFilters()}}},[e._v("\n              Reset\n            ")]),e._v(" "),r("button",{staticClass:"btn btn-info",on:{click:function(t){return e.onChangeFilter(t)}}},[e._v("\n              Filtrar\n            ")])])],2)],{createItem:e.createItem,toggleDisplayMode:e.toggleDisplayMode,loading:e.loading,isColumnHasFilter:e.isColumnHasFilter,setFilter:e.setFilter})],2),e._v(" "),r("div",{staticClass:"table-options"},[r("b-button-group",{staticClass:"mr-1"},[e._t("tableActions",[e._t("tableActionsPrepend",null,{loading:e.loading}),e._v(" "),e.showCreateBtn?r("b-button",{attrs:{variant:"success",disabled:e.loading},on:{click:function(t){return e.createItem()}}},[r("b-icon-plus"),e._v(e._s(e.messageNew)+"\n          ")],1):e._e(),e._v(" "),e.enableFilters?r("b-button",{on:{click:function(t){return e.toggleFilters()}}},[e._v("Filtros")]):e._e(),e._v(" "),r("b-button",{on:{click:function(t){return e.refresh()}}},[r("b-icon-arrow-clockwise")],1),e._v(" "),e.displayModeToggler?r("b-button",{attrs:{variant:"info",disabled:e.loading},on:{click:function(t){return e.toggleDisplayMode()}}},[e.displayMode==e.displayModes.MODE_TABLE?r("b-icon-card-list"):e._e(),e._v(" "),e.displayMode==e.displayModes.MODE_CARDS?r("b-icon-table"):e._e()],1):e._e(),e._v(" "),e.showSearch?r("div",{staticClass:"crud-search m-0"},[r("b-input-group",[r("b-input-group-prepend",[r("b-button",{class:{open:e.displaySearch},attrs:{variant:"info"},on:{click:function(t){e.displaySearch=!e.displaySearch}}},[r("b-icon-search")],1)],1),e._v(" "),e.displaySearch?r("b-form-input",{staticClass:"pl-2",attrs:{type:"search",required:"",placeholder:e.searchPlaceholder,debounce:"500"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}):e._e()],1),e._v(" "),e._t("tableActionsAppend",null,{loading:e.loading})],2):e._e()],{createItem:e.createItem,toggleDisplayMode:e.toggleDisplayMode,loading:e.loading})],2)],1)],1):e._e(),e._v(" "),r("b-overlay",{attrs:{show:e.loading,rounded:"sm"}},[e.displayMode==e.displayModes.MODE_TABLE?r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-hover table-striped w-100"},[r("thead",{staticClass:"thead-light"},[r("tr",[e._t("rowHead",e._l(e.columns,(function(t,n){return r("th",{key:n,attrs:{scope:"col"}},[e.enableFilters&&e.filtersVisible&&e.isColumnHasFilter(t)&&e.internalFilterByProp(t.prop)?e._t("filter-"+t.prop,["boolean"==t.type?r("select",{directives:[{name:"model",rawName:"v-model",value:e.internalFilterByProp(t.prop).value,expression:"internalFilterByProp(column.prop).value"}],staticClass:"form-control",on:{change:[function(r){var n=Array.prototype.filter.call(r.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.internalFilterByProp(t.prop),"value",r.target.multiple?n:n[0])},function(t){return e.onChangeFilter(t)}]}},[r("option",{attrs:{value:""}},[e._v(e._s(t.label))]),e._v(" "),r("option",{attrs:{value:"1"}},[e._v("SÃ­")]),e._v(" "),r("option",{attrs:{value:"0"}},[e._v("No")])]):"date"==t.type?r("div",{staticClass:"row"},[r("div",{staticClass:"col-6"},[r("b-form-datepicker",{attrs:{"today-button":"","reset-button":"","close-button":"",locale:"es"},model:{value:e.internalFilterByProp(t.prop+"_from").value,callback:function(r){e.$set(e.internalFilterByProp(t.prop+"_from"),"value",r)},expression:"\n                          internalFilterByProp(column.prop + '_from').value\n                        "}})],1),e._v(" "),r("div",{staticClass:"col-6"},[r("b-form-datepicker",{attrs:{"today-button":"","reset-button":"","close-button":"",locale:"es"},model:{value:e.internalFilterByProp(t.prop+"_to").value,callback:function(r){e.$set(e.internalFilterByProp(t.prop+"_to"),"value",r)},expression:"\n                          internalFilterByProp(column.prop + '_to').value\n                        "}})],1)]):"state"==t.type?r("select",{directives:[{name:"model",rawName:"v-model",value:e.internalFilterByProp(t.prop).value,expression:"internalFilterByProp(column.prop).value"}],staticClass:"form-control",on:{change:[function(r){var n=Array.prototype.filter.call(r.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.internalFilterByProp(t.prop),"value",r.target.multiple?n:n[0])},function(t){return e.onChangeFilter(t)}]}},[r("option",{attrs:{value:""}},[e._v(e._s(t.label))]),e._v(" "),e._l(t.options,(function(t,n){return r("option",{key:n,domProps:{value:t.id}},[e._v("\n                      "+e._s(t.text?t.text:t.label?t.label:"")+"\n                    ")])}))],2):"checkbox"==t.type?r("b-form-checkbox",{attrs:{name:"select-all"},on:{change:function(t){return e.toggleAll()}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.internalFilterByProp(t.prop).value,expression:"internalFilterByProp(column.prop).value"}],staticClass:"form-control",attrs:{placeholder:t.label},domProps:{value:e.internalFilterByProp(t.prop).value},on:{change:function(t){return e.onChangeFilter(t)},input:function(r){r.target.composing||e.$set(e.internalFilterByProp(t.prop),"value",r.target.value)}}})],{column:t,filter:e.filter,internalFilterByProp:e.internalFilterByProp}):r("span",[e._v(e._s(t.label))])],2)})))],2)]),e._v(" "),r("tbody",e._l(e.filteredItems,(function(t,n){return r("tr",{key:n,on:{mouseover:function(r){return e.onRowHover(t,n)},click:function(r){return e.onRowClick(t,n)}}},[e._t("row",e._l(e.columns,(function(a,i){return r("td",{key:i,attrs:{scope:"id"==a.prop?"row":""}},[e._t("cell-"+a.prop,["boolean"==a.type?r("span",["true"==e.itemValue(a,t)||1==e.itemValue(a,t)||"1"==e.itemValue(a,t)?r("b-badge",{attrs:{variant:"success"}},[r("b-icon-check-circle")],1):e._e(),e._v(" "),e.itemValue(a,t)&&"0"!=e.itemValue(a,t)&&"false"!=e.itemValue(a,t)?e._e():r("b-badge",{attrs:{variant:"danger"}},[r("b-icon-x-circle")],1)],1):"date"==a.type?r("span",[e._v("\n                    "+e._s(e.itemValue(a,t))+"\n                  ")]):"checkbox"==a.type?r("span",[r("b-form-checkbox",{on:{change:function(r){return e.onCheckSelect(r,t)}},model:{value:t.selected,callback:function(r){e.$set(t,"selected",r)},expression:"item.selected"}})],1):"state"==a.type?r("span",[e._v("\n                    "+e._s(e.getStateValue(e.itemValue(a,t),a.options))+"\n                  ")]):r("span",[e._v("\n                    "+e._s(e.itemValue(a,t))+"\n                  ")])],{item:t}),e._v(" "),"actions"==a.type?r("b-button-group",[e._t("rowAction",[r("b-button",{attrs:{variant:"primary"},on:{click:function(r){return e.showItem(t.id,n)}}},[r("b-icon-eye")],1),e._v(" "),r("b-button",{attrs:{variant:"secondary"},on:{click:function(r){return e.updateItem(t.id,n)}}},[r("b-icon-pencil")],1),e._v(" "),r("b-button",{attrs:{variant:"danger"},on:{click:function(r){return e.removeItem(t.id,n)}}},[r("b-icon-trash")],1)],{item:t,index:n,showItem:e.showItem,updateItem:e.updateItem,removeItem:e.removeItem})],2):e._e()],2)})),{item:t})],2)})),0)]),e._v(" "),0==e.items.length?r("p",{staticClass:"p-3"},[e._v("\n        "+e._s(e.messageEmptyResults)+"\n      ")]):e._e()]):e._e(),e._v(" "),e.displayMode==e.displayModes.MODE_CARDS?r("div",[0==e.items.length?r("p",{staticClass:"p-3"},[e._v("\n        "+e._s(e.messageEmptyResults)+"\n      ")]):e._e(),e._v(" "),r("draggable",{staticClass:"row",attrs:{group:"people"},on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1},sort:function(t){return e.onSort()}},model:{value:e.items,callback:function(t){e.items=t},expression:"items"}},e._l(e.filteredItems,(function(t,n){return r("b-col",{key:n,attrs:{cols:e.colXs,sm:e.colSm,md:e.colMd,lg:e.colLg,xl:e.colXl}},[r("b-card",{staticClass:"mb-2",attrs:{title:t.title,tag:"article"},scopedSlots:e._u([{key:"footer",fn:function(){return[r("b-button-group",[e._t("rowAction",[r("b-button",{attrs:{variant:"primary"},on:{click:function(r){return e.showItem(t.id,n)}}},[r("b-icon-eye")],1),e._v(" "),r("b-button",{attrs:{variant:"secondary"},on:{click:function(r){return e.updateItem(t.id,n)}}},[r("b-icon-pencil")],1),e._v(" "),r("b-button",{attrs:{variant:"danger"},on:{click:function(r){return e.removeItem(t.id,n)}}},[r("b-icon-trash")],1)],{item:t,index:n,showItem:e.showItem,updateItem:e.updateItem,removeItem:e.removeItem})],2)]},proxy:!0}],null,!0)},[e._t("card",e._l(e.columns,(function(n,a){return r("div",{key:a},["actions"!=n.type?r("b-card-text",[e._v(e._s(n.label)+":\n                  "),e._t("cell-"+n.prop,["boolean"==n.type?r("span",["true"==e.itemValue(n,t)||1==e.itemValue(n,t)||"1"==e.itemValue(n,t)?r("b-badge",{attrs:{variant:"success"}},[r("b-icon-check-circle")],1):e._e(),e._v(" "),e.itemValue(n,t)&&"0"!=e.itemValue(n,t)&&"false"!=e.itemValue(n,t)?e._e():r("b-badge",{attrs:{variant:"danger"}},[r("b-icon-x-circle")],1)],1):"date"==n.type?r("span",[e._v("\n                      "+e._s(e.itemValue(n,t))+"\n                    ")]):"state"==n.type?r("span",[e._v("\n                      "+e._s(e.getStateValue(e.itemValue(n,t),n.options))+"\n                    ")]):r("span",[e._v("\n                      "+e._s(e.itemValue(n,t))+"\n                    ")])],{item:t})],2):e._e()],1)})),{item:t})],2)],1)})),1)],1):e._e()]),e._v(" "),r("div",{staticClass:"crud-paginator"},[e.showPaginator?r("b-pagination",{attrs:{"total-rows":e.pagination.total,"per-page":e.pagination.per_page},on:{change:function(t){return e.onPaginationChange(t)}},model:{value:e.pagination.current_page,callback:function(t){e.$set(e.pagination,"current_page",t)},expression:"pagination.current_page"}}):e._e()],1),e._v(" "),r("b-modal",{attrs:{id:"modal-form-item-"+e.modelName,"hide-footer":"",size:"xl",title:e.title,"no-close-on-backdrop":""}},[r("b-overlay",{attrs:{show:e.loading,rounded:"sm"}},[e._t("form",[r("b-form-group",{attrs:{label:"Nombre:",description:"Nombre "}},[r("b-form-input",{attrs:{type:"text",required:"",placeholder:"Nombre"},model:{value:e.item.title,callback:function(t){e.$set(e.item,"title",t)},expression:"item.title"}})],1)],{item:e.item}),e._v(" "),r("b-button",{attrs:{block:"",type:"submit",variant:"success",disabled:e.loading},on:{click:function(t){return e.saveItem()}}},[e.loading?r("b-spinner",{attrs:{small:""}}):e._e(),e._v(e._s(e.messageSave)+"\n      ")],1)],2)],1),e._v(" "),r("b-modal",{attrs:{id:"modal-show-item-"+e.modelName,"hide-footer":"",size:"xl",title:e.title,"no-close-on-backdrop":""}},[e._t("show",[r("p",{staticClass:"my-4"},[e._v("Show")])],{item:e.item})],2)],1)},staticRenderFns:[]},(function(e){e&&e("data-v-3ff12f78_0",{source:"tr td[data-v-3ff12f78]:first-child,tr td[data-v-3ff12f78]:last-child{width:1%;white-space:nowrap}.crud-pagination[data-v-3ff12f78]{display:flex;justify-content:center}.crud-header[data-v-3ff12f78]{display:flex;justify-content:space-between;max-height:3rem}.crud-header .crud-title[data-v-3ff12f78]{margin:0}.crud-header .crud-search[data-v-3ff12f78]{max-width:15rem}.crud-header .crud-search .btn[data-v-3ff12f78]{border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:.375rem;border-bottom-right-radius:.375rem}.crud-header .crud-search .btn.open[data-v-3ff12f78]{border-top-right-radius:0;border-bottom-right-radius:0}.crud-header .table-options[data-v-3ff12f78]{margin-bottom:1rem;display:flex;align-items:center;justify-content:flex-end}.custom-control[data-v-3ff12f78]{position:relative;top:-15px}@media (min-width:992px){.table[data-v-3ff12f78]{table-layout:auto}.table tbody td[data-v-3ff12f78]{overflow:scroll;-ms-overflow-style:none;scrollbar-width:none}.table tbody td[data-v-3ff12f78]::-webkit-scrollbar{display:none}}",map:void 0,media:void 0})}),s,"data-v-3ff12f78",false,undefined,!1,d,void 0,void 0),v=function(){var e=f;return e.install=function(t){t.component("VueLaravelCrud",e)},e}(),h=Object.freeze({__proto__:null,default:v});return Object.entries(h).forEach((function(e){var t=o(e,2),r=t[0],n=t[1];"default"!==r&&(v[r]=n)})),v}(draggable,axios);